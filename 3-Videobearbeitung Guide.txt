Guide zur Videobearbeitung
Zur Bearbeitung der Videos wurde Adobe Premiere Pro, Adobe After Effects sowie der Adobe Media Converter verwendet. 
Außerdem wurde zur Konvertierung der Open Source Videotranscoder "Handbrake" verwendet.
Link zum Download: https://handbrake.fr/downloads.php

1. Konvertierung
Die Videodateien des Raspberry Pi müssen konvertiert werden, da Sie sonst nicht in Adobe Premiere Pro eingelesen werden können.
Hierzu wird Handbrake geöffnet, dann oben links der Punkt Quelle öffnen gewählt und der Ordner (zB. Cam1) per Drag and Drop in das Feld gezogen. Die Überprüfung der Dateien kann etwas dauern.
Als Preset wurde "Fast 1080p30" gewählt. Unter dem Punkt "Übersicht" in der Preview sollte als Ausgabeformat MP4 gewählt sein. Bei Bedarf kann der Speicherort ganz unten im Fenster angepasst werden. Nun wird mit einem Linksklick auf den Pfeil rechts neben "Zur Warteschlange hinzufügen" der Punkt "Alles hinzufügen" gewählt oder das Makro "Alt + A" gedrückt. Jetzt kann die Warteschlange gestartet werden. Der Encoding Prozess kann einige Zeit in Anspruch nehmen. Der Fortschritt kann mit einem Klick auf "Warteschlange" geprüft werden.
Danach kann Handbrake beendet werden.

2. Videoschnitt
Die einzelnen Videodateien müssen nun zusammengeschnitten werden. Hierzu wird Adobe Premiere Pro verwendet. 
Zu aller erst wird Adobe Premiere Pro ausgeführt und ein neues Projekt erstellt. Dann werden die Ordner mit den konvertierten Dateien per Drag & Drop in das Fenster unten links (dem Mediabrowser) gezogen, um diese zu Importieren. Nun müssen die Dateien einzeln in das Fenster rechts daneben (die Timeline) gezogen werden. Vorher sollte jedoch in der Timeline V2 bei 5:00S durch Rechtsklick auf die Zeitskala eine Marke hinzugefügt werden, da das zweite Video 5 Sekunden verzögert startet. Dabei ist zu beachten, dass alle Clips aus Cam1 in die Video Timeline V1, beginnend bei 0:00S und alle Clips aus Cam2 in die Video Timeline V2, beginnend bei 5:00S gezogen werden. Es muss natürlich auf die Reihenfolge, sowie die Verbindungen der Clips geachtet werden. Eine korrekte Verbindung ist an der Schnittstelle in der Timeline als kleines Dreieck am oberen Rand sichtbar.
Sind alle Clips eingefügt, können mit dem Rasierklingentool die ersten 5 Sekunden von Clip1, sowie die letzten 5 Sekunden von Clip2 abgetrennt und gelöscht werden. Wenn nicht sind auf diesen Videoabschnitten jeweils nur eine Kamera zu sehen. Danach werden je alle Clips von Cam1 ausgewählt und mit Rechtsklick->Verschachteln zusammengefasst. Das erleichtert anschließend das anpassen der der Clips an das 2:1 Format. Die verschachtelten Clips sollten noch so verschoben werden, dass sie bei 0:00S starten.
Nun wird das Format des Videos angepasst. Dazu wird oben links unter Sequenz -> Sequenzeinstellungen -> Video die Framegröße auf 2560 horizontal und 1280 vertikal geändert und mit einem Klick auf OK bestätigt. Dann wird die Bearbeitung oben mittig auf „Effekte“ geändert. Ist ein Clip ausgewählt, kann dieser nun rechts unter Effekteinstellungen manipuliert werden. 
Für Clip1 wird die Position auf 640,0  640,0 und die Skalierung auf 108,6 geändert. Für Clip2 ist die Position auf 1920,0  640,0 und die Skalierung auf 108,6 zu ändern.
Nun kann das Video oben links unter Datei -> Exportieren -> Medien exportiert werden. Als Exporteinstellung wird das Format H.264 mit der Vorgabe „Mit Quelle abgleichen – Hohe Bitrate“ gewählt. Unten wird noch das Häkchen bei „Maximale Render-Qualität verwenden“ gesetzt. Danach wird auf „Warteschlange“ geklickt, was den Adobe Media Encoder öffnet. Es dauert einen Moment bis das zu rendernde Video geladen ist. Wenn das Video geladen ist, kann die Warteschlange durch einen Klick auf das grüne Dreieck oben links gestartet werden. Der Encoding-Prozess nimmt einige Zeit in Anspruch. Danach kann das Projekt gespeichert und Adobe Premiere geschlossen werden.

3. Effekt und Stitching
Wichtig! Die hier angegebenen Werte der Einstellungen lassen sich nicht auf jede Aufnahme anwenden! Es handelt sich um die Werte mit denen in diesem Fall das beste Ergebnis erzielt wurde. Die Werte der Einstellungen können je nach Aufbau, Anordnung oder Kamerawinkel des Kamerasystems abweichen!
Für das Stitching wir Adobe After Effects verwendet. Hier wird das zu bearbeitende Video links in das Fenster gezogen um es zu importieren.
 Als nächstes wird ein Rechtsklick auf die importierte Datei gemacht und der Punkt „Neue Komposition aus Auswahl“ gewählt. Danach wir über einen Rechtsklick auf die erstellte Komposition, unter dem Punkt „Kompositionseinstellungen“ das Format von 2560x1280 auf 1280x1280 geändert, bestätigt und anschließend über Rechtsklick->Kopieren oder Strg+D mit ausgewählter Komposition kopiert und die Kompositionen in KompA und KompB umbenannt. Falls am rechten Rand der Punkt „Ausrichten“ noch nicht aktiviert ist, muss dieser über Fenster -> Ausrichten aktiviert werden. Dann wird KompA ausgewählt und unter „Ausrichten“ Links gewählt, für KompB wird Rechts gewählt.
Nun wird noch einmal über Rechtsklick auf KompA -> Neue Komposition aus Auswahl eine neue Komposition erstellt, diese wird „Final“ genannt und unter Rechtsklick -> Kompositionseinstellungen wird des Format wieder auf 2560x1280 geändert. Dann wird KompB per Drag & Drop unten links über KompA gezogen, sodass beide Kompositionen sich in „Final“ befinden.
Jetzt wird rechts unter Effekte und Vorgaben -> Immersives Video der VR: Konverter Effekt per Drag & Drop auf beide, sich in „Final“ befindlichen (unten links) Kompositionen gezogen (Angewendet). Bei beiden muss links unter Effekteinstellungen die Eingabe auf „Fisheye (FullDome)“ geändert werden. Danach wird bei KompB in den Effekteinstellungen unter Kameraansicht neu ausrichten -> Schwenken der Winkel auf 189° gestellt. Nun ist das Format des Videos equirektangulär, jedoch gehen die einzelnen Videos noch nicht flüssig in einander über.
Um dies zu ändern wird das Masken Tool verwendet. Da in der Komposition aber noch beide Ansichten vorhanden sind muss dies erst geändert werden. Dazu wird KompB mit einem Doppelklick ausgewählt und dann rechts oben unter Ebene -> Unterkomposition erstellen ausgewählt. In dem erscheinenden Fenster wird „Alle Attribute in die neue Komposition verschieben“ ausgewählt und dann bestätigt. Nun kann das Masken Tool, welches oben links unterhalb von „Effekte“ zu finden ist angewendet werden. Fall dort das Rechteck Tool voreingestellt ist muss es erst auf das Ellipsen Tool geändert werden, dazu wird das Icon des Rechteck Tools mit der linken Maustaste gehalten, bis das Untermenü erscheint. Jetzt kann das Ellipsen Tool mit einem Doppelklick auf die Komposition angewendet werden. Die Ellipsenmaske ist nun unten links unter Masken als „Maske 1“ zu finden. Dort wird in diesem Fall die „Weiche Maskenkante“ auf 30 Pixel und die „Maskenausweitung“ auf -50 Pixel gestellt. Der selbe Effekt wird auch auf KompA angewendet, hier beträgt die „Weich Maskenkante“ 30 Pixel und die Maskenausweitung -30 Pixel.
Nun kann wieder zurück auf die „Final“ Komposition gewechselt werden. Oben links unter Effekteinstellungen wird nun das Field of View (FOV) der beiden Teilkompositionen KompA und KompB angepasst. Für KompA sind das 207° und KompB 200°. Die Werte liefern durch die Bewegung der Kameras nicht immer optimale Ergebnisse, ergeben aber das beste allgemeine Ergebnis.
Auf Änderungen der Randbelichtung wird hier verzichtet, da die Kameras teilweise sehr stark unterschiedliche Belichtungen haben.
Nun kann das Video über Datei -> Exportieren -> Zu Adobe Media Encoder-Warteschlange hinzufügen über die bekannten Schritte gerendert werden. Dies kann eine Weile in Anspruch nehmen.
Das Projekt kann nun gespeichert und Adobe After Effects beendet werden.




Quelle: https://www.youtube.com/watch?v=1idjcc2X_FU&t=1060s
